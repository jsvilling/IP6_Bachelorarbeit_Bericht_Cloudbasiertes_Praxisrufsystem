\subsection{Tests}

\subsubsection{Benutzertests}

Am 11.01.2022 wurden zusammen mit dem Auftraggeber Benutzertests durchgeführt.
Die iOS Applikation wurde auf zwei Physische iPads installiert.
Während den Benutzertests wurde folgendes getestet:

\begin{enumerate}
    \item Anmeldung und Konfigurationsauswahl im Mobile Client funktioniert wie mit dem alten Mobile Client.
    \item Benachrichtigungen können zwischen Mobile Clients versendet werden.
    \item Empfangene Benachrichtigungen werden dem Benutzer vorgelesen.
    \item Sprachverbindungen können über Buttons hergestellt werden.
    \item Sprachverbindungen werden automatisch angenommen.
    \item Über Sprachverbindungen können in Echtzeit Unterhaltungen geführt werden.
    \item Sprachverbindungen können wieder getrennt werden.
\end{enumerate}

Der Kunde hat während den Tests folgende Verbesserungswünsche eingebracht:

\begin{enumerate}
    \item Das Quittieren von Einträgen in der Inbox sollte diese direkt löschen.
    \item Das Quittieren von Einträgen in der Inbox soll durch eine Wischgeste möglich sein.
    \item Die Töne für Benachrichtigungen sollten konfigurierbar sein.
    \item Icon und Name der App sollten ansprechend sein.
    \item Bei eingehenden Sprachverbindungen soll ein Benachrichtigungston erklingen.
    \item Status von Verbindungsteilnehmern soll als Icon dargestellt werden
\end{enumerate}

Dieses Feedback konnte grösstenteils umgesetzt werden.
Punkt 3.\ konnte aus Zeitgründen nicht umgesetzt werden.
Die Benachrichtigungstöne für empfangene Benachrichtigungen und eingehende Sprachverbindungen sind fest definiert und können nicht konfiguriert werden.

\clearpage

\subsubsection{Funktionstests}

Im Rahmen des Projektes Peer-To-Peer Kommunikation für Sprachübertragung in einem Praxisrufsystem wurde ein finaler Testplan definiert.
Diese Tests wurden zum Abschluss des Projektes durchgeführt, um die Funktionalität des Systems abschliessend zu testen.
Die Szenarien S01 bit S18 wurden dabei aus dem Vorgängerprojekt ''IP5 Cloudbasiertes Praxisrufsystem'' übernommen.
Dadurch kann sichergestellt werden, dass alle Funktionen aus dem Vorgängerprojekt korrekt migriert wurden.
Die Testszenarien S19 bis S40 behandeln die Funktionen Sprachsynthese und Gegensprechanlage.
Die detaillierte Definition mit Ausgangslage, Testschritten und erwartetem Resultat sind im Anhang C aufgeführt.

Folgendes Protokoll zeigt den Stand der letzten Ausführung der Tests am 06.03.2022:

\begin{table}[h]
    \centering
    \begin{tabular}{|l|p{11cm}|c|c|}
        \hline
        \textbf{Szenario} & \textbf{Beschreibung} & \textbf{Resultat} \\
        \hline
        S01         & Benachrichtigung versenden - Empfänger konfiguriert   & +\\
        \hline
        S02         & Benachrichtigung versenden - kein Empfänger & +\\
        \hline
        S03         & Benachrichtigung empfangen.  & +\\
        \hline
        S04         & Fehler beim Versenden anzeigen.  & +\\
        \hline
        S05         & Wiederholen im Fehlerfall bestätigen.  & tbd\\
        \hline
        S06         & Wiederholen im Fehlerfall abbrechen.  & tbd\\
        \hline
        S07         & Audiosignal bei Benachrichtigung.   & +\\
        \hline
        S08         & Push Benachrichtigung im Hintergrund.  & +\\
        \hline
        S09         & Erinnerungston für nicht Quittierte Benachrichtigungen.   & +\\
        \hline
        S10         & Start Mobile Client - nicht angemeldet   & +\\
        \hline
        S11         & Start Mobile Client  - angemeldet & +\\
        \hline
        S12         & Anmelden mit korrekten Daten.   & +\\
        \hline
        S13         & Anmeldung mit ungültigen Daten.   & +\\
        \hline
        S14         & Konfiguration Wählen   & +\\
        \hline
        S15         & Abmelden   & +\\
        \hline
        S16         & Admin UI - Anmeldung mit korrekten Daten   & +\\
        \hline
        S17         & Admin UI - Anmeldung mit ungültigen Daten   & +\\
        \hline
        S18         & Admin UI - Konfiguration Verwalten   & +\\
        \hline
        S19         & Benachrichtigung vorlesen - Sprachsynthese aktiviert und Benachrichtigung relevant & +\\
        \hline
        S20         & Benachrichtigung nicht vorlesen - Sprachsynthese aktiviert und Benachrichtigung nicht relevant & +\\
        \hline
        S21         & Lokale Einstellung - Sprachsynthese deaktiviert und Benachrichtigung relevant  & +\\
        \hline
        S22         & Lokale Einstellung - Sprachsynthese deaktiviert und Benachrichtigung nicht relevant  & +\\
        \hline
        S23         & Benachrichtigung verwalten - Relevanz Sprachsynthese kann im Admin UI aktiviert / deaktiviert werden  & +\\
        \hline
        S24         & Benachrichtigung empfangen - Änderung an Typ in Admin UI wird sofort angewendet   & +\\
        \hline
        S25         & Gegensprechanlage Buttons nach Anmeldung anzeigen & +\\
        \hline
        S26         & Verbindungsaufbau - Gegenüber ist Verfügbar & +\\
        \hline
        S27         & Verbindungsaufbau - Gegenüber ist nicht Verfügbar & +\\
        \hline
        S28         & Verbindungsaufbau - Gegenüber hat Gegensprechanlage deaktiviert & +\\
        \hline
        S29         & Verbindungsaufbau - Benachrichtigungston & +\\
        \hline
    \end{tabular}\label{tab:funktion_testplan_1}
\end{table}

\clearpage

\begin{table}[h]
    \centering
    \begin{tabular}{|l|p{11cm}|c|c|}
        \hline
        \textbf{Szenario} & \textbf{Beschreibung} & \textbf{Resultat} \\
        \hline
        S30         & Verbindungsaufbau - Automatische Annahme & tbd\\
        \hline
        S31         & Unterhaltung 1:1 - Unterhaltung in Echtzeit möglich & tbd\\
        \hline
        S32         & Unterhaltung 1:n - Unterhaltung in Echtzeit möglich & tbd\\
        \hline
        S33         & Verbindungsaufbau 1:n & tbd\\
        \hline
        S34         & Inbox - Vergangene Sprachverbindungen & tbd\\
        \hline
        S35         & Inbox - Verpasste Sprachverbindungen & tbd\\
        \hline
        S36         & Inbox - Abgelehnte Unterhaltungen & tbd\\
        \hline
        S37         & Verbindung trennen durch Empfänger & tbd\\
        \hline
        S38         & Verbindung durch Initiator & tbd\\
        \hline
        S39         & Austreten aus Gruppenunterhaltung & tbd\\
        \hline
        S40         & Konfiguration über Admin UI & tbd\\
        \hline
    \end{tabular}\label{tab:funktion_testplan_2}
\end{table}

Alle Testszenarien konnten mit einem positiven Resultat abgeschlossen werden.

Neben Szenarien für Funktionstests, wurden einfache Tests zur Messung der Performance des Systems definiert.
Dazu wurden die Performancekriterien P01 bis P02 definiert.
Folgendes Protokoll zeigt den Stand der letzten Ausführung der Tests am xx.03.2022:

\begin{table}[h]
    \centering
    \begin{tabular}{|l|p{11cm}|c|c|}
        \hline
        \textbf{Kriterium} & \textbf{Beschreibung} & \textbf{Resultat} \\
        \hline
        P01         & Zeit bis Benachrichtigung ankommt im Schnitt < 5s & tbd\\
        \hline
        P02         & Vorlesen von Benachrichtigung < 5s nach Benachrichtigungston (ohne Cache) & tbd\\
        \hline
        P03         & Vorlesen von Benachrichtigung < 1s nach Benachrichtigungston (mit Cache) & tbd\\
        \hline
        P04         & Verbindungsaufbau Sprachverbindung < 5s  & tbd\\
        \hline
        P05         & Verzögerung bei Sprachverbindung klein um kurze Gespräche zu führen & tbd\\
        \hline
        P06         & Ressourcenverbrauch der Applikation bleibt über Zeit konstant & tbd\\
        \hline
        P07         & Übertragungsqualität von Sprachverbindungen ist ausreichend für normale Unterhaltungen & tbd\\
        \hline
    \end{tabular}\label{tab:testplan_performance}
\end{table}

Die Performancekriterien P01 bis P06 sind vollständig erfüllt.
Das Kriterium P07 wird mit Einschränkungen erfüllt.
Die Qualität der Sprachverbindungen ist grundsätzlich ausreichend für eine Gegensprechanlage.
Probleme können entstehen, wenn eine Sprachverbindung zwischen zwei Endgeräten im selben Raum aufgebaut wird.
In diesem Fall kann ein positiver Feedback Loop entstehen, welcher zu einem schrillen Pfeifton führt.
Dieses Problem ist durch eine entsprechende Ausrichtung der Geräte vermeidbar.
Es schränkt aber ein, wie die Endgeräte des Systems in einer Praxis installiert werden können.

\clearpage
