\subsection{Gegensprechanlage}

Praxisruf soll um die Funktion einer Gegensprechanlage erweitert werden.
Um dies zu ermöglichen, muss das System Sprachübertragung zwischen Mobile Clients in Echtzeit unterstützten.
In diesem Kapitel werden die Technologien evaluiert, mit denen dies Umgesetzt werden kann.

\subsubsection{Amazon Chime}

Eine Möglichkeit um Sprachverbindungen in Praxisruf zu implementieren, ist die Integration einer bestehenden Business Kommunikationslösung, wie Webex oder Microsoft Teams.
Amazon Webservices bietet für diesen Zweck ''Amazon Chime'' an.
Amazon Chime ist ein Kommunkations Service welcher Funktionen für Meetings, Chats und Geschäftsanrufe ermöglicht.\cite{aws_chime}
Mit dem Amazon Chime SDK für iOS, ist es möglich Sprach- und Videoanrufe bis hin zu Screensharing in native iOS Applikationen zu integrieren.\cite{aws_chime_sdk}

Die Integration eines solchen Dienstes hat den Vorteil, dass die Telefonie in einen etablierten Provider ausgelagert werden kann.
Durch Verträge mit dem Provider können Verfügbarkeitsgarantien und Supportleistungen vereinbart werden.
Dies erhöht die Stabilität des Systems und ermöglicht effizienteres Reagieren im Fehlerfall.
Weiter fallen für Praxisruf selbst wenig bis keine Aufwände für den Betrieb der nötigen Telefonieinfrastruktur.
Die Kosten, welche durch die Anbindung eines Providers anfallen, sind damit schlimmstenfalls gerechtfertigt und bestennfalls die günstigere Option, als die Infrastruktur selbst zu betreiben.

Die Funktionen für Chats, Videounterhaltungen, Meetings und Bildschirmübertragung sind für den Anwendungsfall ''Gegensprechanlage in einem Praxisrufsystem'' nicht relevant.
Bei der Verwendung von Amazon Chime würde also nur ein kleines Subset der Möglichkeiten die der Service bietet verwendet.
Der Nachteil daran ist, dass damit eine starke Bindung an den Amazon Chime SDK und die Abläufe, die Amazon Chime zum Verbindungsaufbau vorsieht.

\subsubsection{WebRTC}

WebRTC steht für Web Real-Time Communication.
Es ist ein Open Source Projekt, welches Echtzeitkommunikation für mobile Applikationen und Browser Applikationen ermöglicht.
Es unterstützt Video-, Sprach- und generische Daten, die zwischen Peers gesendet werden.
Die Technologien hinter WebRTC sind als offener Webstandard implementiert und in allen gängigen Browsern als reguläre JavaScript-APIs verfügbar.
Für native Clients wie Android- und iOS-Anwendungen steht eine Bibliothek mit derselben Funktionalität zur Verfügung.\cite{webrtc}
WebRTC baut zur Kommunikation direkte Peer To Peer Verbindungen zwischen den Kommunikationspartnern auf.
Um dies zu ermöglichen ist eine Signaling Instanz notwendig, welche Informationen die zum Verbindungsaufbau notwendig sind zwischen den Partnern vermittelt.
WebRTC spezifiziert nicht, wie diese Signaling Instanz aussehen muss.
Neben dieser Signaling Instanz ist keine Infrastruktur notwendig, um Daten auszutauschen.
Sämtliche Sprachdaten werden direkt über die Peer To Peer Verbindungen zwischen Clients ausgetauscht.

Dies hat den Vorteil, dass die Infrastruktur schlank gehalten werden kann.
Zudem kann der Signaling Service auf die eigenen Bedürfnisse zugeschnitten werden.
Die Kanäle über die Signale ausgetauscht werden, können frei gewählt werden.
Das Signaling im Kontext von Praxisruf kann damit im Cloud Service implementiert werden.
Für die Benachrichtigung bei verpassten Anrufen können eigene Meachanismen eingebunden werden.
Im Fall von Praxisruf, kann dafür der Notification Teil des Cloud Services verwendet werden.
Diese Flexibilität bedeutet auch, dass der Signaling Service weitgehend unabhängig von der spezifischen Technologie implementiert werden kann.

\clearpage

Die Verwendung von WebRTC hat den Nachteil, dass kein fachlicher Support bei Verbindungsproblemen zur Verfügung steht.
Dies wird dadurch relativiert, dass der eigene Signaling Service sehr einfach gehalten werden kann.
Es wird weiter dadurch relativiert, dass der eigene Signaling Service ebenfalls bei einem Cloud Provider betrieben wird.
Dafür können wiederum Supportvereinbarungen getroffen werden.

Die Verwendung von Peer To Peer Verbindungen ist effizient für Verbindungen bei 1:1 Unterhaltungen.
Für 1:m Verbindungen müssen aber tatsächlich m Verbindungen aufgebaut werden.
Bei grossen Gruppen, ist diese Art des Verbindungsaufbaus ineffizient.
Grundsätzlich wäre es möglich, die Kommunikation über einen zentralen Peer zu bündeln.\cite{webrtc_mesh}
Um dies zu ermöglichen ist aber wieder Infrastruktur nötig, über welche Sprachdaten übertragen werden können.

\subsubsection{Entscheidung}

Die Funktion Gegensprechanlage wir mit WebRTC umgesetzt.
Dazu wird der Cloud Service um ein Modul erweitert, welches Signaling Informationen vermittelt.
Im Mobile Client wird die WebRTC iOS Library integriert, um Peer To Peer Sprachverbindungen aufzubauen.

Durch die Verwendung von WebRTC, können Sprachverbindungen aufgebaut werden, ohne einen neuen externen Service zu integrieren.
Weiter kann der Infrastruktur zur Signalvermittlung unabhängig von der gewählten Technologie umgesetzt werden.
Die Verfügbaren Libraries für iOs, Android und Javscript bedeuten, dass künftige Web- und Android Clients leicht in das System integriert werden können.
Support für die Verfügbarkeit des Signaling Services wird über die Verfügbarkeit des Cloud Providers sichergestellt.

\clearpage
